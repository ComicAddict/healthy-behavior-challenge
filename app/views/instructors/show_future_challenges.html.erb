<style>
  .welcome-message h4 {
    color: black; /* Change this to the color you want */
  }
  .create-challenge-btn {
    position: fixed;
    bottom: 20px;
    right: 20px;
  }
</style>

<%= render 'main/navbar' %>
<div class="container d-flex justify-content-center align-items-center vh-100 vw-100" style="margin-top:10vh">
<div class="welcome-message mt-4">
<h4>Welcome, <%= @user_name_from_session %></h4>
</div>
<% if flash[:notice] %>
<div class="alert alert-success text-center">
    <%= flash[:notice] %>
</div>
<% end %>


<div class="container mt-4">
  <div class="row align-items-center mb-4">
    <div class="col-md-6">
      <h1>Upcoming Challenges</h1>
    </div>
    <div class="col-md-3 mb-2 mb-md-0 text-center">
      <button type="button" id="prev-challenge-btn" class="btn btn-primary btn-block"><-- Show Past Challenges</button>
    </div>
    <div class="col-md-3 text-center">
      <button type="button" id="ongoing-challenge-btn" class="btn btn-primary btn-block"><-- Show Ongoing Challenges</button>
    </div>
  </div>
</div>

  <div class="d-flex flex-wrap justify-content-center">
    <% @challenges.each do |challenge| %>
      <a href="<%= challenge_path(challenge) %>" class="challenge-tile">
        <h3>Challenge Name: <%= challenge.name %></h3>
        <p>Start Date: <%= challenge.startDate %></p>
        <p>End Date: <%= challenge.endDate %></p>
      </a>
    <% end %>
  </div>

  <%= will_paginate @challenges %>
  <a href="<%= new_challenge_path %>" class="btn btn-primary create-challenge-btn">Create Challenge</a>

</div>


<script type="text/javascript">
  document.addEventListener('DOMContentLoaded', function() {
    const b1 = document.getElementById('ongoing-challenge-btn');

    if (b1) {
      b1.addEventListener('click', function() {
        window.location.href = "<%= instructor_path @instructor.id %>";
      });
    }

    const prevButton = document.getElementById('prev-challenge-btn');

    if (prevButton) {
      prevButton.addEventListener('click', function() {
        window.location.href = "<%= past_challenges_instructor_path @instructor.id %>";
      });
    }
  });
</script>